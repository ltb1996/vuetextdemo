<!--
  ç¬¬1è¯¾ï¼šæ’å€¼è¡¨è¾¾å¼ - é“¶è¡Œè´¦æˆ·ä½™é¢
  å­¦ä¹ ç›®æ ‡ï¼šæŒæ¡ Vue3 æœ€åŸºç¡€çš„è¯­æ³• â€”â€” æ’å€¼è¡¨è¾¾å¼ {{ }}

  ä»€ä¹ˆæ˜¯æ’å€¼è¡¨è¾¾å¼ï¼Ÿ
  æ’å€¼è¡¨è¾¾å¼æ˜¯ Vue æ¨¡æ¿ä¸­æœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šæ–¹å¼ï¼Œä½¿ç”¨åŒå¤§æ‹¬å· {{ }} æ¥æ˜¾ç¤ºæ•°æ®

  é‡‘èåœºæ™¯ï¼šå±•ç¤ºé“¶è¡Œè´¦æˆ·ä½™é¢å’Œç”¨æˆ·ä¿¡æ¯
-->
<script setup>
import LessonLayout from '../common/LessonLayout.vue'

// ==================== 1. æ•°æ®å£°æ˜ ====================
// åœ¨ Vue3 ä¸­ï¼Œæˆ‘ä»¬åœ¨ <script setup> ä¸­å£°æ˜çš„å˜é‡å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨

// ç”¨æˆ·å§“å
const userName = 'å¼ ä¸‰'

// è´¦æˆ·ä½™é¢ï¼ˆå•ä½ï¼šå…ƒï¼‰
const balance = 12345.67

// é“¶è¡Œåç§°
const bankName = 'ä¸­å›½å·¥å•†é“¶è¡Œ'

// è´¦æˆ·ç±»å‹
const accountType = 'å‚¨è“„å¡'

// è´¦å·ï¼ˆéšè—ä¸­é—´éƒ¨åˆ†ï¼‰
const accountNumber = '6222 **** **** 8888'
</script>

<template>
  <LessonLayout
    title="ç¬¬1è¯¾ï¼šæ’å€¼è¡¨è¾¾å¼ - é“¶è¡Œè´¦æˆ·ä½™é¢"
    description="å­¦ä¹  Vue3 ä¸­æœ€åŸºç¡€çš„æ•°æ®å±•ç¤ºæ–¹å¼ï¼šæ’å€¼è¡¨è¾¾å¼ã€‚é€šè¿‡é“¶è¡Œè´¦æˆ·åœºæ™¯ï¼Œäº†è§£å¦‚ä½•åœ¨æ¨¡æ¿ä¸­æ˜¾ç¤ºå˜é‡çš„å€¼ã€‚"
    :key-points="[
      'æ’å€¼è¡¨è¾¾å¼çš„è¯­æ³•ï¼šä½¿ç”¨åŒå¤§æ‹¬å· {{ }} åŒ…è£¹å˜é‡å',
      'åœ¨ <script setup> ä¸­å£°æ˜çš„å˜é‡å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨',
      'æ’å€¼è¡¨è¾¾å¼å¯ä»¥æ˜¾ç¤ºå­—ç¬¦ä¸²ã€æ•°å­—ç­‰åŸºæœ¬ç±»å‹æ•°æ®',
      'æ’å€¼è¡¨è¾¾å¼å†…éƒ¨å¯ä»¥ä½¿ç”¨ç®€å•çš„ JavaScript è¡¨è¾¾å¼'
    ]"
    difficulty="â­"
  >
    <!-- ==================== 2. æ¼”ç¤ºåŒºåŸŸ ==================== -->
    <div class="demo-area">
      <h3>ğŸ“± æˆ‘çš„é“¶è¡Œå¡</h3>

      <!-- é“¶è¡Œå¡å±•ç¤º -->
      <div class="bank-card">
        <!-- ç¬¬ä¸€éƒ¨åˆ†ï¼šä½¿ç”¨æ’å€¼è¡¨è¾¾å¼æ˜¾ç¤ºé“¶è¡Œåç§° -->
        <div class="bank-name">
          {{ bankName }}
        </div>

        <!-- ç¬¬äºŒéƒ¨åˆ†ï¼šæ˜¾ç¤ºè´¦æˆ·ç±»å‹ -->
        <div class="account-type">
          {{ accountType }}
        </div>

        <!-- ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ˜¾ç¤ºè´¦å· -->
        <div class="account-number">
          å¡å·ï¼š{{ accountNumber }}
        </div>

        <!-- ç¬¬å››éƒ¨åˆ†ï¼šæ˜¾ç¤ºæŒå¡äººå§“å -->
        <div class="holder-name">
          æŒå¡äººï¼š{{ userName }}
        </div>

        <!-- ç¬¬äº”éƒ¨åˆ†ï¼šæ˜¾ç¤ºä½™é¢ -->
        <div class="balance-display">
          <div class="label">è´¦æˆ·ä½™é¢</div>
          <div class="amount">
            <!-- å¯ä»¥åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­ä½¿ç”¨ç®€å•çš„è¡¨è¾¾å¼ -->
            Â¥ {{ balance.toFixed(2) }}
          </div>
        </div>
      </div>

      <!-- è´¦æˆ·ä¿¡æ¯è¯´æ˜ -->
      <div class="info-box">
        <h4>ğŸ“Š è´¦æˆ·è¯¦æƒ…</h4>
        <ul>
          <!-- å¤šæ¬¡ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼ -->
          <li>ğŸ‘¤ å§“åï¼š{{ userName }}</li>
          <li>ğŸ¦ å¼€æˆ·è¡Œï¼š{{ bankName }}</li>
          <li>ğŸ’³ å¡ç±»å‹ï¼š{{ accountType }}</li>
          <li>ğŸ”¢ å¡å·ï¼š{{ accountNumber }}</li>
          <li>ğŸ’° ä½™é¢ï¼š{{ balance }} å…ƒ</li>
        </ul>
      </div>
    </div>

    <!-- ==================== 3. ä»£ç è®²è§£ ==================== -->
    <div class="code-explanation">
      <h3>ğŸ’» ä»£ç è¯´æ˜</h3>

      <div class="explain-section">
        <h4>1ï¸âƒ£ åœ¨ &lt;script setup&gt; ä¸­å£°æ˜æ•°æ®</h4>
        <pre><code>const userName = 'å¼ ä¸‰'       // å£°æ˜ç”¨æˆ·å
const balance = 12345.67      // å£°æ˜è´¦æˆ·ä½™é¢</code></pre>
        <p class="explain-text">
          ä½¿ç”¨ <code>const</code> å…³é”®å­—å£°æ˜å˜é‡ï¼ˆæš‚æ—¶ç”¨å¸¸é‡ï¼Œåç»­è¯¾ç¨‹ä¼šå­¦ä¹ å“åº”å¼æ•°æ®ï¼‰
        </p>
      </div>

      <div class="explain-section">
        <h4>2ï¸âƒ£ åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼</h4>
        <pre><code>&lt;div&gt;æŒå¡äººï¼š<span style="color: #e83e8c">{{ userName }}</span>&lt;/div&gt;
&lt;div&gt;ä½™é¢ï¼šÂ¥ <span style="color: #e83e8c">{{ balance.toFixed(2) }}</span>&lt;/div&gt;</code></pre>
        <p class="explain-text">
          ä½¿ç”¨ <code>{{ }}</code> åŒå¤§æ‹¬å·åŒ…è£¹å˜é‡åï¼ŒVue ä¼šè‡ªåŠ¨å°†å˜é‡çš„å€¼æ¸²æŸ“åˆ°é¡µé¢ä¸Š
        </p>
      </div>

      <div class="explain-section">
        <h4>3ï¸âƒ£ æ’å€¼è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ç®€å•çš„ JavaScript è¡¨è¾¾å¼</h4>
        <pre><code>{{ balance.toFixed(2) }}    // ä¿ç•™ä¸¤ä½å°æ•°
{{ userName + 'å…ˆç”Ÿ' }}     // å­—ç¬¦ä¸²æ‹¼æ¥
{{ balance > 10000 ? 'åœŸè±ª' : 'æ™®é€šç”¨æˆ·' }}  // ä¸‰å…ƒè¡¨è¾¾å¼</code></pre>
      </div>
    </div>

    <!-- ==================== 4. ç»ƒä¹ ä»»åŠ¡ ==================== -->
    <template #practice>
      <div class="practice-tasks">
        <p><strong>ç°åœ¨è½®åˆ°ä½ äº†ï¼å°è¯•å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š</strong></p>
        <ol>
          <li>åœ¨ script ä¸­æ·»åŠ ä¸€ä¸ªæ–°å˜é‡ <code>vipLevel</code>ï¼Œå€¼ä¸º "é»„é‡‘ä¼šå‘˜"</li>
          <li>åœ¨é“¶è¡Œå¡ä¸‹æ–¹ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼æ˜¾ç¤ºè¿™ä¸ªä¼šå‘˜ç­‰çº§</li>
          <li>æ·»åŠ ä¸€ä¸ª <code>depositAmount</code> å˜é‡ï¼Œè¡¨ç¤ºä»Šæ—¥å­˜æ¬¾é‡‘é¢</li>
          <li>ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼å’Œç®—æœ¯è¿ç®—ï¼Œè®¡ç®—å¹¶æ˜¾ç¤ºï¼šä½™é¢ + å­˜æ¬¾åçš„æ€»é‡‘é¢</li>
        </ol>
        <p class="hint">ğŸ’¡ æç¤ºï¼šå¯ä»¥ç›´æ¥åœ¨ {{ }} ä¸­ä½¿ç”¨ + è¿ç®—ç¬¦è¿›è¡ŒåŠ æ³•è®¡ç®—</p>
      </div>
    </template>

    <!-- ==================== 5. å­¦ä¹ å°è´´å£« ==================== -->
    <template #tips>
      <ul>
        <li><strong>æ’å€¼è¡¨è¾¾å¼åªèƒ½ç”¨åœ¨å…ƒç´ çš„å†…å®¹ä¸­</strong>ï¼Œä¸èƒ½ç”¨åœ¨ HTML å±æ€§ä¸­ï¼ˆå±æ€§ç»‘å®šä¼šåœ¨ä¸‹ä¸€è¯¾å­¦ä¹ ï¼‰</li>
        <li><strong>é¿å…åœ¨æ’å€¼è¡¨è¾¾å¼ä¸­å†™å¤æ‚é€»è¾‘</strong>ï¼Œä¿æŒç®€æ´æ˜“è¯»</li>
        <li><strong>æ’å€¼è¡¨è¾¾å¼ä¼šè‡ªåŠ¨è½¬ä¹‰ HTML</strong>ï¼Œé˜²æ­¢ XSS æ”»å‡»ï¼Œè¿™æ˜¯ Vue çš„å®‰å…¨æœºåˆ¶</li>
        <li><strong>ä½¿ç”¨ toFixed(2)</strong> æ–¹æ³•å¯ä»¥æ ¼å¼åŒ–æ•°å­—ï¼Œè¿™åœ¨é‡‘èåœºæ™¯ä¸­éå¸¸å¸¸ç”¨</li>
      </ul>
    </template>
  </LessonLayout>
</template>

<style scoped>
/* é“¶è¡Œå¡æ ·å¼ */
.bank-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 30px;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  max-width: 450px;
  margin: 20px auto;
  font-family: 'Arial', sans-serif;
}

.bank-name {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 20px;
  opacity: 0.95;
}

.account-type {
  font-size: 14px;
  margin-bottom: 25px;
  opacity: 0.85;
}

.account-number {
  font-size: 16px;
  letter-spacing: 2px;
  margin-bottom: 15px;
  font-family: 'Courier New', monospace;
}

.holder-name {
  font-size: 14px;
  margin-bottom: 25px;
}

.balance-display {
  background: rgba(255, 255, 255, 0.2);
  padding: 20px;
  border-radius: 10px;
  text-align: center;
}

.balance-display .label {
  font-size: 13px;
  opacity: 0.9;
  margin-bottom: 8px;
}

.balance-display .amount {
  font-size: 32px;
  font-weight: bold;
  letter-spacing: 1px;
}

/* ä¿¡æ¯æ¡†æ ·å¼ */
.info-box {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  margin-top: 30px;
  border-left: 4px solid #667eea;
}

.info-box h4 {
  margin: 0 0 15px 0;
  color: #495057;
  font-size: 16px;
}

.info-box ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.info-box ul li {
  padding: 8px 0;
  color: #6c757d;
  font-size: 14px;
  border-bottom: 1px solid #e9ecef;
}

.info-box ul li:last-child {
  border-bottom: none;
}

/* ä»£ç è®²è§£æ ·å¼ */
.code-explanation {
  margin-top: 30px;
}

.code-explanation h3 {
  color: #495057;
  font-size: 22px;
  margin-bottom: 20px;
}

.explain-section {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
  border-left: 4px solid #28a745;
}

.explain-section h4 {
  margin: 0 0 12px 0;
  color: #343a40;
  font-size: 16px;
}

.explain-section pre {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 15px;
  border-radius: 8px;
  overflow-x: auto;
  font-size: 14px;
  line-height: 1.6;
  margin: 12px 0;
}

.explain-section code {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 2px 6px;
}

.explain-text {
  margin: 10px 0 0 0;
  color: #6c757d;
  font-size: 14px;
  line-height: 1.6;
}

/* ç»ƒä¹ ä»»åŠ¡æ ·å¼ */
.practice-tasks {
  font-size: 15px;
  line-height: 1.8;
}

.practice-tasks ol {
  margin: 15px 0;
  padding-left: 25px;
}

.practice-tasks ol li {
  margin: 12px 0;
}

.practice-tasks .hint {
  margin-top: 15px;
  padding: 12px;
  background: #fff3cd;
  border-radius: 6px;
  border-left: 3px solid #ffc107;
  font-size: 14px;
}
</style>
