<!--
  ç¬¬2è¯¾ï¼šå±æ€§ç»‘å®š - è‚¡ç¥¨å¡ç‰‡
  å­¦ä¹ ç›®æ ‡ï¼šæŒæ¡ v-bind æŒ‡ä»¤ï¼Œå­¦ä¼šåŠ¨æ€ç»‘å®š HTML å±æ€§

  ä»€ä¹ˆæ˜¯å±æ€§ç»‘å®šï¼Ÿ
  å±æ€§ç»‘å®šç”¨äºåŠ¨æ€è®¾ç½® HTML å…ƒç´ çš„å±æ€§å€¼ï¼ˆå¦‚ classã€styleã€srcã€href ç­‰ï¼‰
  è¯­æ³•ï¼šv-bind:å±æ€§å="è¡¨è¾¾å¼" æˆ–ç®€å†™ä¸º :å±æ€§å="è¡¨è¾¾å¼"

  é‡‘èåœºæ™¯ï¼šæ ¹æ®è‚¡ç¥¨æ¶¨è·ŒåŠ¨æ€è®¾ç½®é¢œè‰²å’Œæ ·å¼
-->
<script setup>
import LessonLayout from '../common/LessonLayout.vue'

// ==================== 1. è‚¡ç¥¨æ•°æ® ====================
const stockName = 'è´µå·èŒ…å°'
const stockCode = '600519'
const currentPrice = 1688.50
const changeAmount = 25.30     // æ¶¨è·Œé¢
const changePercent = 1.52     // æ¶¨è·Œå¹… %

// åˆ¤æ–­æ˜¯æ¶¨è¿˜æ˜¯è·Œ
const isRising = changeAmount > 0

// åŠ¨æ€é¢œè‰²ï¼šæ¶¨çº¢è·Œç»¿
const priceColor = isRising ? '#ff4d4f' : '#52c41a'

// åŠ¨æ€ CSS ç±»å
const trendClass = isRising ? 'rising' : 'falling'

// è‚¡ç¥¨å›¾æ ‡ï¼ˆä½¿ç”¨emojiæ¨¡æ‹Ÿï¼‰
const stockIcon = 'ğŸ“ˆ'

// è‚¡ç¥¨Logo URLï¼ˆæ¨¡æ‹Ÿï¼‰
const logoUrl = 'https://via.placeholder.com/60x60/667eea/ffffff?text=' + stockCode
</script>

<template>
  <LessonLayout
    title="ç¬¬2è¯¾ï¼šå±æ€§ç»‘å®š - è‚¡ç¥¨å¡ç‰‡"
    description="å­¦ä¹ ä½¿ç”¨ v-bind æŒ‡ä»¤åŠ¨æ€ç»‘å®š HTML å±æ€§ï¼Œå®ç°æ ¹æ®è‚¡ç¥¨æ¶¨è·Œæ˜¾ç¤ºä¸åŒé¢œè‰²å’Œæ ·å¼çš„å¡ç‰‡ã€‚"
    :key-points="[
      'v-bind æŒ‡ä»¤ç”¨äºåŠ¨æ€ç»‘å®š HTML å±æ€§',
      'ç®€å†™å½¢å¼ï¼šv-bind:class å¯ä»¥ç®€å†™ä¸º :class',
      ':style å¯ä»¥ç»‘å®šå†…è”æ ·å¼å¯¹è±¡',
      ':class å¯ä»¥ç»‘å®šç±»åï¼Œå®ç°åŠ¨æ€æ ·å¼åˆ‡æ¢',
      'å¯ä»¥ç»‘å®šä»»ä½• HTML å±æ€§ï¼šsrcã€hrefã€titleã€disabled ç­‰'
    ]"
    difficulty="â­"
  >
    <!-- ==================== 2. æ¼”ç¤ºåŒºåŸŸ ==================== -->
    <div class="demo-area">
      <h3>ğŸ“Š è‚¡ç¥¨è¡Œæƒ…</h3>

      <!-- è‚¡ç¥¨å¡ç‰‡ 1ï¼šä½¿ç”¨ :style ç»‘å®šå†…è”æ ·å¼ -->
      <div class="stock-card">
        <div class="stock-header">
          <!-- ç»‘å®š title å±æ€§ï¼ˆé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºï¼‰ -->
          <h4 :title="'è‚¡ç¥¨ä»£ç ï¼š' + stockCode">
            {{ stockIcon }} {{ stockName }}
          </h4>
          <span class="stock-code">{{ stockCode }}</span>
        </div>

        <div class="stock-body">
          <!-- ä½¿ç”¨ :style ç»‘å®šé¢œè‰² -->
          <div
            class="current-price"
            :style="{ color: priceColor, fontSize: '32px' }"
          >
            Â¥{{ currentPrice }}
          </div>

          <!-- ç»‘å®šå¤šä¸ªæ ·å¼å±æ€§ -->
          <div
            class="change-info"
            :style="{
              color: priceColor,
              fontWeight: 'bold',
              backgroundColor: isRising ? '#fff1f0' : '#f6ffed',
              padding: '8px 12px',
              borderRadius: '6px'
            }"
          >
            {{ isRising ? '+' : '' }}{{ changeAmount }}
            ({{ isRising ? '+' : '' }}{{ changePercent }}%)
          </div>
        </div>
      </div>

      <!-- è‚¡ç¥¨å¡ç‰‡ 2ï¼šä½¿ç”¨ :class ç»‘å®šç±»å -->
      <div class="stock-card">
        <div class="stock-header">
          <h4>{{ stockIcon }} {{ stockName }}</h4>
        </div>

        <div class="stock-body">
          <!-- ä½¿ç”¨ :class åŠ¨æ€ç»‘å®šç±»å -->
          <div
            class="price-tag"
            :class="trendClass"
          >
            Â¥{{ currentPrice }}
          </div>

          <!-- :class å¯ä»¥ç»‘å®šå¯¹è±¡ï¼Œkey æ˜¯ç±»åï¼Œvalue æ˜¯å¸ƒå°”å€¼ -->
          <div
            class="trend-indicator"
            :class="{
              'trend-up': isRising,
              'trend-down': !isRising,
              'highlight': Math.abs(changePercent) > 5
            }"
          >
            <span>{{ isRising ? 'â†‘' : 'â†“' }}</span>
            {{ changeAmount }}
          </div>
        </div>
      </div>

      <!-- è‚¡ç¥¨å¡ç‰‡ 3ï¼šç»‘å®š image src å±æ€§ -->
      <div class="stock-card">
        <div class="stock-with-logo">
          <!-- ç»‘å®š img çš„ src å’Œ alt å±æ€§ -->
          <img
            :src="logoUrl"
            :alt="stockName + ' Logo'"
            class="stock-logo"
          />
          <div class="stock-info">
            <h4>{{ stockName }}</h4>
            <p>ä»£ç ï¼š{{ stockCode }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ==================== 3. ä»£ç è®²è§£ ==================== -->
    <div class="code-explanation">
      <h3>ğŸ’» ä»£ç è¯´æ˜</h3>

      <div class="explain-section">
        <h4>1ï¸âƒ£ ä½¿ç”¨ :style ç»‘å®šå†…è”æ ·å¼</h4>
        <pre><code>&lt;div :style="{ color: priceColor, fontSize: '32px' }"&gt;
  Â¥{{ currentPrice }}
&lt;/div&gt;</code></pre>
        <p class="explain-text">
          <code>:style</code> æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§åæ˜¯CSSå±æ€§ï¼ˆé©¼å³°å‘½åï¼‰ï¼Œå€¼å¯ä»¥æ˜¯å˜é‡æˆ–å­—ç¬¦ä¸²
        </p>
      </div>

      <div class="explain-section">
        <h4>2ï¸âƒ£ ä½¿ç”¨ :class ç»‘å®šç±»åï¼ˆå­—ç¬¦ä¸²å½¢å¼ï¼‰</h4>
        <pre><code>&lt;div class="price-tag" :class="trendClass"&gt;
  Â¥{{ currentPrice }}
&lt;/div&gt;

// trendClass çš„å€¼ä¸º 'rising' æˆ– 'falling'
// æœ€ç»ˆæ¸²æŸ“ï¼šclass="price-tag rising" æˆ– class="price-tag falling"</code></pre>
      </div>

      <div class="explain-section">
        <h4>3ï¸âƒ£ ä½¿ç”¨ :class ç»‘å®šç±»åï¼ˆå¯¹è±¡å½¢å¼ï¼‰</h4>
        <pre><code>&lt;div
  :class="{
    'trend-up': isRising,      // isRising ä¸º true æ—¶æ·»åŠ æ­¤ç±»
    'trend-down': !isRising,   // !isRising ä¸º true æ—¶æ·»åŠ æ­¤ç±»
    'highlight': Math.abs(changePercent) > 5
  }"
&gt;&lt;/div&gt;</code></pre>
        <p class="explain-text">
          å¯¹è±¡çš„ key æ˜¯ç±»åï¼Œvalue æ˜¯å¸ƒå°”å€¼ï¼Œä¸º true æ—¶æ‰ä¼šæ·»åŠ è¯¥ç±»å
        </p>
      </div>

      <div class="explain-section">
        <h4>4ï¸âƒ£ ç»‘å®šå…¶ä»–å±æ€§ï¼ˆsrcã€altã€title ç­‰ï¼‰</h4>
        <pre><code>&lt;img
  :src="logoUrl"
  :alt="stockName + ' Logo'"
  :title="'æŸ¥çœ‹' + stockName + 'è¯¦æƒ…'"
/&gt;</code></pre>
        <p class="explain-text">
          æ‰€æœ‰ HTML å±æ€§éƒ½å¯ä»¥ç”¨ v-bind ç»‘å®šï¼Œå®ç°åŠ¨æ€æ§åˆ¶
        </p>
      </div>
    </div>

    <!-- ==================== 4. å¯¹æ¯”è¯´æ˜ ==================== -->
    <div class="comparison-box">
      <h3>ğŸ”„ æ’å€¼è¡¨è¾¾å¼ vs å±æ€§ç»‘å®š</h3>
      <table class="comparison-table">
        <thead>
          <tr>
            <th>ç‰¹æ€§</th>
            <th>æ’å€¼è¡¨è¾¾å¼ {{ }}</th>
            <th>å±æ€§ç»‘å®š v-bind / :</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>ä½¿ç”¨ä½ç½®</strong></td>
            <td>æ ‡ç­¾å†…å®¹</td>
            <td>æ ‡ç­¾å±æ€§</td>
          </tr>
          <tr>
            <td><strong>ç¤ºä¾‹</strong></td>
            <td>&lt;div&gt;{{ userName }}&lt;/div&gt;</td>
            <td>&lt;img :src="imageUrl" /&gt;</td>
          </tr>
          <tr>
            <td><strong>å¸¸è§åœºæ™¯</strong></td>
            <td>æ˜¾ç¤ºæ–‡å­—ã€æ•°å­—</td>
            <td>è®¾ç½®æ ·å¼ã€å›¾ç‰‡ã€é“¾æ¥</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ==================== 5. ç»ƒä¹ ä»»åŠ¡ ==================== -->
    <template #practice>
      <div class="practice-tasks">
        <p><strong>åŠ¨æ‰‹ç»ƒä¹ ï¼š</strong></p>
        <ol>
          <li>æ·»åŠ ä¸€ä¸ª <code>volume</code> å˜é‡è¡¨ç¤ºæˆäº¤é‡ï¼Œå¦‚æœæˆäº¤é‡è¶…è¿‡ 10000ï¼Œä½¿ç”¨ :style å°†æ–‡å­—é¢œè‰²è®¾ä¸ºçº¢è‰²</li>
          <li>æ·»åŠ ä¸€ä¸ª <code>isTrading</code> å¸ƒå°”å˜é‡è¡¨ç¤ºæ˜¯å¦åœ¨äº¤æ˜“æ—¶é—´ï¼Œä½¿ç”¨ :class ç»‘å®šä¸åŒçš„ç±»å</li>
          <li>å°è¯•ç»‘å®šä¸€ä¸ª <code>title</code> å±æ€§ï¼Œé¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºè‚¡ç¥¨çš„è¯¦ç»†ä¿¡æ¯</li>
          <li>åˆ›å»ºä¸€ä¸ª"ç«‹å³è´­ä¹°"æŒ‰é’®ï¼Œä½¿ç”¨ :disabled ç»‘å®šï¼Œå½“ä¸åœ¨äº¤æ˜“æ—¶é—´æ—¶ç¦ç”¨æŒ‰é’®</li>
        </ol>
      </div>
    </template>

    <!-- ==================== 6. å­¦ä¹ å°è´´å£« ==================== -->
    <template #tips>
      <ul>
        <li><strong>v-bind å¯ä»¥ç®€å†™ä¸ºå†’å· :</strong>ï¼Œä¾‹å¦‚ v-bind:class ç®€å†™ä¸º :class</li>
        <li><strong>:style ä¸­çš„ CSS å±æ€§åä½¿ç”¨é©¼å³°å‘½å</strong>ï¼Œå¦‚ fontSizeï¼ˆè€Œé font-sizeï¼‰</li>
        <li><strong>:class å¯ä»¥å’Œæ™®é€š class å…±å­˜</strong>ï¼ŒVue ä¼šè‡ªåŠ¨åˆå¹¶</li>
        <li><strong>ç»‘å®šå¯¹è±¡æ—¶æ³¨æ„å•å¼•å·</strong>ï¼Œç±»åå¦‚æœåŒ…å«è¿å­—ç¬¦éœ€è¦åŠ å¼•å·ï¼Œå¦‚ 'trend-up'</li>
        <li><strong>é‡‘èåœºæ™¯çš„é€šç”¨è§„åˆ™</strong>ï¼šæ¶¨ç”¨çº¢è‰²ï¼Œè·Œç”¨ç»¿è‰²ï¼ˆä¸­å›½è‚¡å¸‚ä¹ æƒ¯ï¼‰</li>
      </ul>
    </template>
  </LessonLayout>
</template>

<style scoped>
/* è‚¡ç¥¨å¡ç‰‡åŸºç¡€æ ·å¼ */
.stock-card {
  background: white;
  border-radius: 12px;
  padding: 20px;
  margin: 20px auto;
  max-width: 400px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s;
}

.stock-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.stock-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  padding-bottom: 12px;
  border-bottom: 2px solid #f0f0f0;
}

.stock-header h4 {
  margin: 0;
  font-size: 18px;
  color: #2c3e50;
}

.stock-code {
  font-size: 12px;
  color: #999;
  background: #f5f5f5;
  padding: 4px 8px;
  border-radius: 4px;
}

.stock-body {
  text-align: center;
}

.current-price {
  font-size: 32px;
  font-weight: bold;
  margin: 15px 0;
}

.change-info {
  display: inline-block;
  margin-top: 10px;
}

/* åŠ¨æ€ç±»åæ ·å¼ */
.price-tag {
  font-size: 28px;
  font-weight: bold;
  margin: 15px 0;
  padding: 10px;
  border-radius: 8px;
}

.price-tag.rising {
  color: #ff4d4f;
  background: #fff1f0;
}

.price-tag.falling {
  color: #52c41a;
  background: #f6ffed;
}

.trend-indicator {
  display: inline-block;
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: bold;
  margin-top: 10px;
}

.trend-indicator.trend-up {
  background: #fff1f0;
  color: #ff4d4f;
}

.trend-indicator.trend-down {
  background: #f6ffed;
  color: #52c41a;
}

.trend-indicator.highlight {
  animation: pulse 1.5s infinite;
  border: 2px solid currentColor;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Logoå±•ç¤º */
.stock-with-logo {
  display: flex;
  align-items: center;
  gap: 15px;
}

.stock-logo {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
}

.stock-info h4 {
  margin: 0 0 5px 0;
  font-size: 16px;
}

.stock-info p {
  margin: 0;
  color: #999;
  font-size: 13px;
}

/* ä»£ç è®²è§£æ ·å¼ */
.code-explanation {
  margin-top: 40px;
}

.code-explanation h3 {
  color: #495057;
  font-size: 22px;
  margin-bottom: 20px;
}

.explain-section {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 10px;
  margin-bottom: 20px;
  border-left: 4px solid #667eea;
}

.explain-section h4 {
  margin: 0 0 12px 0;
  color: #343a40;
  font-size: 16px;
}

.explain-section pre {
  background: #2d2d2d;
  color: #f8f8f2;
  padding: 15px;
  border-radius: 8px;
  overflow-x: auto;
  font-size: 13px;
  line-height: 1.6;
  margin: 12px 0;
}

.explain-text {
  margin: 10px 0 0 0;
  color: #6c757d;
  font-size: 14px;
  line-height: 1.6;
}

/* å¯¹æ¯”è¡¨æ ¼ */
.comparison-box {
  margin-top: 40px;
  padding: 25px;
  background: #f0f7ff;
  border-radius: 12px;
}

.comparison-box h3 {
  margin: 0 0 20px 0;
  color: #1890ff;
}

.comparison-table {
  width: 100%;
  border-collapse: collapse;
  background: white;
  border-radius: 8px;
  overflow: hidden;
}

.comparison-table th {
  background: #667eea;
  color: white;
  padding: 12px;
  text-align: left;
  font-weight: bold;
}

.comparison-table td {
  padding: 12px;
  border-bottom: 1px solid #f0f0f0;
}

.comparison-table tr:last-child td {
  border-bottom: none;
}

/* ç»ƒä¹ ä»»åŠ¡ */
.practice-tasks {
  font-size: 15px;
  line-height: 1.8;
}

.practice-tasks ol {
  margin: 15px 0;
  padding-left: 25px;
}

.practice-tasks ol li {
  margin: 12px 0;
}
</style>
